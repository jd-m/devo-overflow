#+title: Posts

* Latest
  :PROPERTIES:
  :attr_html: :id latest-posts :class heading
  :html_container: div
  :html_container_class: posts-3
  :END:

#+attr_html: :class indent-3
 - [[file:posts/20220719195738.org][One Thing You Lack]]

#+begin_export javascript
$(".posts-3 a").each(function (i, obj) {
    var a_href = $(this).attr('href');

    $.get(a_href, function (data) {
	var date = $(data).filter('meta[property="date"]').attr("content");
	var post_title = $(data).filter('meta[property="og:title"]').attr("content");
	var description = $(data).filter('meta[property="og:description"]').attr("content");
    var snippet = $(data).filter('meta[property="snippet"]').attr("content");
        var tags = $(data).filter('meta[property="tags"]').attr("content");
var post_type = $(data).filter('meta[property="post_type"]').attr("content");
	var image = $(data).filter('meta[property="og:image"]').attr("content");
        var text = $(data).find("p:not(blockquote p)").text().substring(0,500);
        var html_string = "";          

        html_string =

        "<a href=\"" + a_href + "\">\n" +
        "<div class=\"center card-3\">\n" +
        "<span class=\"post-type\">" + post_type + "</span>" +
        "<img class=\"post-image\" src=\"" + image +"\">\n" +
        "<h2>" + post_title + "</h2>\n" +
        "<span class=\"date\">" + date + "</span>\n" +
        "<h3 class=\"post-description\"><span>" + description + "</span></h3>\n" +
        "<p class=\"disappear\">" + snippet + "</p>\n" +
        "<div class=\"read-more\">READ POST</div>\n" +
        "</div>\n" +
        "</a>\n" 
        
        $("#latest-posts").after(html_string);
    });
});

$(".posts-3 ul").empty();

#+end_export

* Recent Posts
  :PROPERTIES:
  :attr_html: :id recent-posts :class heading
  :html_container: div
  :html_container_class: posts-2 
  :END:

#+attr_html: :class indent-3
  - [[file:posts/20220527172601.org][One Man's Strong City is Another Man's Ruin]]

#+begin_export javascript
$(".posts-2 a").each(function (i, obj) {
var a_href = $(this).attr('href');

$.get(a_href, function (data) {
var date = $(data).filter('meta[property="date"]').attr("content");
var post_title = $(data).filter('meta[property="og:title"]').attr("content");
var description = $(data).filter('meta[property="og:description"]').attr("content");
var snippet = $(data).filter('meta[property="snippet"]').attr("content");
var tags = $(data).filter('meta[property="tags"]').attr("content");	
var image = $(data).filter('meta[property="og:image"]').attr("content");
var post_type = $(data).filter('meta[property="post_type"]').attr("content");
var text = $(data).find("p:not(blockquote p)").text().substring(0,250);
var html_string = "";          

    html_string =

    "<div class=\"center card-2\">" +
    "<a href=\"" + a_href +  "\">" +
    "<img class=\"post-image\"  src=\"" + image + "\">" +
    "<h2>" + post_title + "</h2>" +
    "<span class=\"date\">" + date + "</span>" +
    "<span class=\"post-type\">" + post_type + "</span>" +
    "<h3 class=\"post-description\"><span>" + description + "</span></h3>" +
    "<p class=\"\">" + snippet + "</p>" +
    "<div class=\"read-more\">READ POST</div>\n" +
    "</a>" +
    "<hr>" +
    "</div>";


    $("#recent-posts").after(html_string);
});
});

$(".posts-2 ul").empty();

#+end_export

#+begin_comment
  - [[file:posts/20220719195738.org][/17 July 2022/ One Thing You Lack]]
  - [[file:posts/20220623212643.org][/23 Jun 2022/ Not as the World Gives]]
#+end_comment
